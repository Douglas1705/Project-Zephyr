import{r as t,G as S,j as e,d as Z,e as F,s as N,f as H}from"./index-CGbbQGhw.js";import{C as E}from"./PagesCape-7PWSQK0I.js";import{P as V}from"./ProductList-DLrRgG6U.js";import{S as A}from"./SectionQuality-uxJGcetZ.js";function R({title:a,titleId:i,...u},d){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":i},u),a?t.createElement("title",{id:i},a):null,t.createElement("path",{d:"M18.75 12.75h1.5a.75.75 0 0 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM12 6a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 6ZM12 18a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 18ZM3.75 6.75h1.5a.75.75 0 1 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM5.25 18.75h-1.5a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 1 0 1.5ZM3 12a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 3 12ZM9 3.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM12.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM9 15.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}))}const D=t.forwardRef(R);function G({title:a,titleId:i,...u},d){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":i},u),a?t.createElement("title",{id:i},a):null,t.createElement("path",{fillRule:"evenodd",d:"M3 6a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3V6ZM3 15.75a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-2.25Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3v-2.25Z",clipRule:"evenodd"}))}const B=t.forwardRef(G);function O(a){return S({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M2 5H22V3H2V5Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M2 21H22V19H2V21Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7V17H22V7H2ZM4 9H20V15H4V9Z",fill:"currentColor"},child:[]}]})(a)}function L({isOpen:a,onClose:i,onApply:u,filters:d}){const[n,f]=t.useState(d);t.useEffect(()=>{f(d)},[d]);const p=h=>{const{name:w}=h.target,b={price:!1,discount:!1,name:!1,new:!1,all:!1,[w]:h.target.checked};f(b)},j=()=>{u(n),i()},x={onChange:p,className:"mr-2"},m={onClick:j,className:"bg-blue-500 text-white px-4 py-2 rounded"},g={onClick:i,className:"bg-gray-500 text-white px-4 py-2 rounded"};return a?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white bg-opacity-80 p-8 rounded-xl shadow-2xl max-w-lg w-10/12 mx-auto my-8 md:w-full",children:[e.jsx("div",{className:"flex justify-center mb-0",children:e.jsx("img",{src:"https://compasschallenge-furniro-images.s3.us-east-2.amazonaws.com/logo-furniro.svg",alt:"Logo",className:"w-24 h-24"})}),e.jsx("h2",{className:"text-3xl text-center font-bold mb-10 text-Goldenrod",children:"Filter Properties"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center custom-checkbox",children:[e.jsx("input",{type:"checkbox",name:"price",checked:n.price,...x}),e.jsx("span",{className:"text-gray-800 font-semibold text-xl",children:"Price"})]}),e.jsxs("label",{className:"flex items-center custom-checkbox",children:[e.jsx("input",{type:"checkbox",name:"discount",checked:n.discount,...x}),e.jsx("span",{className:"text-gray-800 font-semibold text-xl",children:"Discount"})]}),e.jsxs("label",{className:"flex items-center custom-checkbox",children:[e.jsx("input",{type:"checkbox",name:"name",checked:n.name,...x}),e.jsx("span",{className:"text-gray-800 font-semibold text-xl",children:"Name"})]}),e.jsxs("label",{className:"flex items-center custom-checkbox",children:[e.jsx("input",{type:"checkbox",name:"new",checked:n.new,...x}),e.jsx("span",{className:"text-gray-800 font-semibold text-xl",children:"New"})]}),e.jsxs("label",{className:"flex items-center custom-checkbox",children:[e.jsx("input",{type:"checkbox",name:"all",checked:n.all,...x}),e.jsx("span",{className:"text-gray-800 font-semibold text-xl",children:"All"})]})]}),e.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[e.jsx("button",{...m,className:"bg-white text-black px-6 py-3 rounded-md hover:bg-Goldenrod hover:text-white transition duration-200 shadow-md",children:"Apply"}),e.jsx("button",{...g,className:"bg-gray-300 text-gray-800 px-6 py-3 rounded-md hover:bg-gray-400 transition duration-200 shadow-md",children:"Close"})]})]})}):null}const $=()=>Z(),z=F,I=()=>async a=>{a(N(!0));const u=await(await fetch("http://localhost:3001/products")).json();a(H(u)),a(N(!1))};function J(){const a="w-10 xl:w-7",i="px-5 py-3 rounded-lg text-base",[u,d]=t.useState(!1),[n,f]=t.useState(16),[p,j]=t.useState({price:!1,discount:!1,name:!1,new:!1,all:!1}),[x,m]=t.useState(1),g=$(),h=z(s=>s.products.products),[w,b]=t.useState([]),y=t.useCallback((s,l)=>{let c=[...s];return l.all?c.sort((r,o)=>r.id-o.id):(l.name&&(c=c.sort((r,o)=>r.name.localeCompare(o.name))),l.price&&(c=c.sort((r,o)=>r.originalPrice-o.originalPrice)),l.discount&&(c=c.sort((r,o)=>o.discount-r.discount)),l.new&&(c=c.filter(r=>r.new==="New")),c)},[]);t.useEffect(()=>{g(I())},[g]),t.useEffect(()=>{m(1)},[n,h]),t.useEffect(()=>{function s(){const l=y(h,p),c=[];for(let o=0;o<l.length;o+=16)c.push(l.slice(o,o+16));const r=c[x-1]||[];b(r.slice(0,n-(x-1)*16))}s()},[x,h,n,p,y]);const v=t.useCallback(s=>{let l=Number(s.target.value);l<1&&(l=1),l>48&&(l=48),f(l),m(1);const c=[...h].sort((r,o)=>r.id-o.id);b(c.slice(0,l))},[h]),k=t.useCallback(s=>()=>{m(s)},[]),C=t.useCallback(()=>{d(!0)},[]),P=t.useCallback(()=>{d(!1)},[]),M=t.useCallback(s=>{j(s)},[]);return e.jsxs("section",{children:[e.jsx(E,{title:"Shop"}),e.jsxs("main",{children:[e.jsxs("article",{className:"flex flex-col bg-WhisperWhite mb-12 lg:flex-row lg:h-28 lg:gap-4 lg:mb-10 lg:justify-between lg:px-2 xl:px-28",children:[e.jsxs("div",{className:"flex flex-col items-center py-5 gap-8 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex gap-5 items-center border-b-4 border-gray-400 pb-5 lg:border-b-0 lg:border-r-2 lg:h-10 lg:overflow-hidden lg:pr-7 lg:pb-0",children:[e.jsx(D,{className:a}),e.jsx("button",{onClick:C,className:"text-2xl font-medium hover:text-Goldenrod",children:"Filter"}),e.jsx(B,{className:a}),e.jsx(O,{className:"w-14 h-9 xl:w-7"})]}),e.jsx("div",{className:"flex",children:e.jsxs("p",{children:["Showing ",e.jsxs("span",{children:["1 - ",Number(n)||0]})," of"," ",e.jsx("span",{children:"48"})," results"]})})]}),e.jsxs("div",{className:"flex flex-col text-center items-center gap-6 pt-2 pb-7 lg:flex-row lg:pt-5",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("p",{className:"text-2xl lg:text-xl",children:"Show"}),e.jsx("input",{type:"number",placeholder:"16",value:n,onChange:v,min:"1",max:"48",className:"bg-white px-1 py-3 text-center text-gray-500"})]}),e.jsx("p",{className:"text-2xl lg:text-xl",children:"Sort by"}),e.jsx("input",{type:"text",placeholder:"Default",className:"py-4 px-4 w-52"})]})]}),e.jsx(V,{products:w}),e.jsx(L,{isOpen:u,onClose:P,onApply:M,filters:p})]}),e.jsxs("div",{className:"flex justify-center gap-6 pb-10",children:[[1,2,3].map(s=>e.jsx("button",{onClick:k(s),className:`${i} ${x===s?"bg-Goldenrod text-white hover:bg-yellow-400":"bg-warm-cream text-black hover:bg-amber-400"}`,disabled:s===2&&n<17||s===3&&n<25,children:s},s)),e.jsx("button",{className:`${i} bg-warm-cream text-black hover:bg-amber-400`,disabled:!0,children:"Next"})]}),e.jsx(A,{})]})}export{J as default};
