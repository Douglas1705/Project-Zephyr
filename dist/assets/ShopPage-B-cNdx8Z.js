import{r as s,j as e,f as C,g as v,s as w,h as M,C as S}from"./main-4BnZoQQT.js";import{P as A}from"./ProductList-C6qwUDPG.js";import{S as F}from"./SectionQuality-DAYeauO-.js";function Z({title:n,titleId:r,...h},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":r},h),n?s.createElement("title",{id:r},n):null,s.createElement("path",{d:"M18.75 12.75h1.5a.75.75 0 0 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM12 6a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 6ZM12 18a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 18ZM3.75 6.75h1.5a.75.75 0 1 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM5.25 18.75h-1.5a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 1 0 1.5ZM3 12a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 3 12ZM9 3.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM12.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM9 15.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z"}))}const E=s.forwardRef(Z);function L({isOpen:n,onClose:r,onApply:h,filters:i}){const[o,m]=s.useState(i);s.useEffect(()=>{m(i)},[i]);const p=g=>{const{name:b}=g.target,y={price:!1,discount:!1,name:!1,new:!1,all:!1,[b]:g.target.checked};m(y)},f=()=>{h(o),r()},d={onChange:p,className:"mr-2"},u={onClick:f,className:"bg-blue-500 text-white px-4 py-2 rounded"},j={onClick:r,className:"bg-gray-500 text-white px-4 py-2 rounded"};return n?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white bg-opacity-80 p-8 rounded-xl shadow-2xl max-w-lg w-10/12 mx-auto my-8 md:w-full",children:[e.jsx("div",{className:"flex justify-center mb-0",children:e.jsx("img",{src:"https://i.ibb.co/PGhMLmtL/Zephyr-1.png",alt:"Logo",className:"w-44 h-24"})}),e.jsx("h2",{className:"text-3xl text-center font-bold mb-10 text-Goldenrod",children:"Filter Properties"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center custom-checkbox",children:[e.jsx("input",{type:"checkbox",name:"price",checked:o.price,...d}),e.jsx("span",{className:"text-gray-800 font-semibold text-xl",children:"Price"})]}),e.jsxs("label",{className:"flex items-center custom-checkbox",children:[e.jsx("input",{type:"checkbox",name:"discount",checked:o.discount,...d}),e.jsx("span",{className:"text-gray-800 font-semibold text-xl",children:"Discount"})]}),e.jsxs("label",{className:"flex items-center custom-checkbox",children:[e.jsx("input",{type:"checkbox",name:"name",checked:o.name,...d}),e.jsx("span",{className:"text-gray-800 font-semibold text-xl",children:"Name"})]}),e.jsxs("label",{className:"flex items-center custom-checkbox",children:[e.jsx("input",{type:"checkbox",name:"new",checked:o.new,...d}),e.jsx("span",{className:"text-gray-800 font-semibold text-xl",children:"New"})]}),e.jsxs("label",{className:"flex items-center custom-checkbox",children:[e.jsx("input",{type:"checkbox",name:"all",checked:o.all,...d}),e.jsx("span",{className:"text-gray-800 font-semibold text-xl",children:"All"})]})]}),e.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[e.jsx("button",{...u,className:"bg-white text-black px-6 py-3 rounded-md hover:bg-Goldenrod hover:text-white transition duration-200 shadow-md",children:"Apply"}),e.jsx("button",{...j,className:"bg-gray-300 text-gray-800 px-6 py-3 rounded-md hover:bg-gray-400 transition duration-200 shadow-md",children:"Close"})]})]})}):null}const D=()=>C(),G=v,O=()=>async n=>{n(w(!0));const h=await(await fetch("http://localhost:3001/products")).json();n(M(h)),n(w(!1))};function W(){const n="w-10 xl:w-7",r="px-5 py-3 rounded-lg text-base",[h,i]=s.useState(!1),[o,m]=s.useState({price:!1,discount:!1,name:!1,new:!1,all:!1}),[p,f]=s.useState(1),d=D(),u=G(t=>t.products.products),[j,g]=s.useState([]),b=s.useCallback((t,x)=>{let a=[...t];return x.all?a.sort((c,l)=>c.id-l.id):(x.name&&(a=a.sort((c,l)=>c.name.localeCompare(l.name))),x.price&&(a=a.sort((c,l)=>c.originalPrice-l.originalPrice)),x.discount&&(a=a.sort((c,l)=>l.discount-c.discount)),x.new&&(a=a.filter(c=>c.new==="New")),a)},[]);s.useEffect(()=>{d(O())},[d]),s.useEffect(()=>{f(1)},[u]),s.useEffect(()=>{function t(){const x=b(u,o),a=[];for(let l=0;l<x.length;l+=16)a.push(x.slice(l,l+16));const c=a[p-1]||[];g(c)}t()},[p,u,o,b]);const y=s.useCallback(t=>()=>{f(t)},[]),N=s.useCallback(()=>{i(!0)},[]),k=s.useCallback(()=>{i(!1)},[]),P=s.useCallback(t=>{m(t)},[]);return e.jsxs("section",{children:[e.jsx(S,{title:"Shop"}),e.jsxs("main",{children:[e.jsx("article",{className:"flex flex-col bg-WhisperWhite mb-12 lg:flex-row lg:h-28 lg:gap-4 lg:mb-10 lg:justify-between lg:px-2 xl:px-28",children:e.jsxs("div",{className:"flex flex-col items-center py-5 gap-8 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("div",{className:"flex gap-5 items-center border-b-4 border-gray-400 pb-5 lg:border-b-0 lg:border-r-2 lg:h-10 lg:overflow-hidden lg:pr-7 lg:pb-0",children:e.jsxs("button",{onClick:N,className:"text-2xl font-medium hover:text-Goldenrod flex flex-row gap-4",children:[e.jsx(E,{className:n}),"Filter"]})}),e.jsx("div",{className:"flex",children:e.jsxs("p",{children:["Showing"," ",e.jsxs("span",{children:[(p-1)*16+1," -"," ",Math.min(p*16,u.length)]})," ","of ",e.jsx("span",{children:u.length})," results"]})})]})}),e.jsx(A,{products:j}),e.jsx(L,{isOpen:h,onClose:k,onApply:P,filters:o})]}),e.jsx("div",{className:"flex justify-center gap-6 pb-10",children:[1,2].map(t=>e.jsx("button",{onClick:y(t),className:`${r} ${p===t?"bg-Goldenrod text-white hover:bg-yellow-400":"bg-warm-cream text-black hover:bg-amber-400"}`,children:t},t))}),e.jsx(F,{})]})}export{W as default};
